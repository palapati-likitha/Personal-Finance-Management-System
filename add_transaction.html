<!DOCTYPE html>
<html>
<head>
    <title>Add Transaction</title>

</head>
<body>
     
    <h2>Add Transaction</h2>

    <form method="POST">
        <label for="account_id">Select Account:</label>
        <select name="account_id" id="account_id" required>
            {% for acc in accounts %}
                <option value="{{ acc[0] }}">{{ acc[1] }} (ID: {{ acc[0] }})</option>
            {% endfor %}
        </select>
        <br><br>

        <!-- âœ… User ID dropdown similar to account_id -->
        <label for="user_id">Select User:</label>
        <select name="user_id" id="user_id" required>
            {% for user in users %}
                <option value="{{ user[0] }}">{{ user[1] }} (ID: {{ user[0] }})</option>
            {% endfor %}
        </select>
        <br><br>

        <label for="transaction_type">Transaction Type:</label>
        <select name="transaction_type" id="transaction_type" required>
            <option value="credit">Credit</option>
            <option value="debit">Debit</option>
        </select>
        <br><br>

        <label for="amount">Amount:</label>
        <input type="number" name="amount" id="amount" step="0.01" required>
        <br><br>

        <label for="description">Description:</label>
        <input type="text" name="description" id="description" placeholder="e.g., Grocery, Rent" required>
        <br><br>

        <input type="submit" value="Submit">
    </form>

    <br>
    <a href="/dashboard">Back to Dashboard</a>

    <hr>

    <h3>All Transactions for Selected Account</h3>
    <table border="1" cellpadding="5">
        <thead>
            <tr>
                <th>Transaction ID</th>
                <th>Type</th>
                <th>Amount</th>
                <th>Description</th>
                <th>Date</th>
                <th>User ID</th>
            </tr>
        </thead>
        <tbody>
            {% for txn in transactions %}
                <tr>
                    <td>{{ txn[0] }}</td>
                    <td>{{ txn[1] }}</td>
                    <td>{{ txn[2] }}</td>
                    <td>{{ txn[3] }}</td>
                    <td>{{ txn[4] }}</td>
                    <td>{{ txn[5] }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <p>
    
        <a href="{{ url_for('dashboard') }}">Go to dashboard</a>
    </p>


</body>
</html>
